<div class="wrapper">
  <div class="action-wrapper">
    <h3>รายละเอียดงานวิจัย</h3>

    <button *ngIf="researchStatus == 'waitForProgress'" class="btn btn-lg btn-primary"
      (click)="open(content, researchStatusDisplay)">{{researchStatusDisplay.statusActionTitle}}</button>
      <button *ngIf="researchStatus == 'waitForProjectFinished' " class="btn btn-lg btn-primary"
      (click)="onSubmitFinal()">{{researchStatusDisplay.statusActionTitle}}</button>
  </div>

  <ul class="nav nav-tabs">
    <li class="nav-item ">
      <a class="nav-link " [ngClass]="currentTab=='detail'?'active':''" (click)="onChangeTab('detail')">ข้อมูลงานวิจัย</a>
    </li>
    <li class="nav-item">
      <a class="nav-link " [ngClass]="currentTab=='download'?'active':''" (click)="onChangeTab('download')">ดาวน์โหลดเอกสารที่ส่งแล้ว</a>
    </li>

  </ul>
  <div *ngIf="currentTab == 'detail'">
    <app-research-detail></app-research-detail>
  </div>

  <div *ngIf="currentTab == 'download'">
    <app-research-document-download [status]="researchStatus"></app-research-document-download>
  </div>

  <ng-template #content let-c="close" let-d="dismiss">
    <div class="modal-header">
      <h4 class="modal-title">{{modalTitle}}</h4>
      <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <div class="scroll-modal">
        <div *ngIf="researchStatus == 'waitForProgress'">
          <h5>Upload รายงานความก้าวหน้า</h5>
          <app-text-field label="ครั้งที่"></app-text-field>
          <app-text-field label="ร้อยละเงินทุนที่เบิก"></app-text-field>

          <app-upload-field label="รายงานความก้าวหน้า"></app-upload-field>
          <h5>Upload เอกสารประกอบรายงานความก้าวหน้า</h5>
          <app-upload-field label="รายงานความก้าวหน้า"></app-upload-field>
          <br/>
          <button class="btn btn-primary">
            <i class="fas fa-plus"></i>&nbsp; เพิ่มไฟล์</button>
          <br/>
          <br/>
          <h5>Upload เอกสารทางการเงิน</h5>
          <app-upload-field label="รายงานความก้าวหน้า"></app-upload-field>
          <button class="btn btn-primary">
            <i class="fas fa-plus"></i>&nbsp; เพิ่มไฟล์</button>
          <br/>
          <br/>
          <h5>Upload เอกสารอื่น ๆ</h5>
          <app-upload-field label="รายงานความก้าวหน้า"></app-upload-field>
          <button class="btn btn-primary">
            <i class="fas fa-plus"></i>&nbsp; เพิ่มไฟล์</button>
        </div>
        <div *ngIf="researchStatus == 'waitForProjectFinished'">
          <h5>Upload ใบนำส่งงานวิจัย</h5>
          <app-upload-field label="ใบนำส่งงานวิจัย"></app-upload-field>
          <h5>Upload บทคัดย่องานวิจัย</h5>
          <app-upload-field label="บทคัดย่องานวิจัย"></app-upload-field>
          <h5>Upload งานวิจัยฉบับสมบูรณ์</h5>
          <app-upload-field label="งานวิจัยฉบับสมบูรณ์"></app-upload-field>
          <h5>Upload บทความวิชาการ</h5>
          <app-upload-field label="บทความวิชาการ"></app-upload-field>
          <h5>Upload รายงานการประชุมวิชาการ</h5>
          <app-upload-field label="รายงานการประชุมวิชาการ"></app-upload-field>
          <h5>Upload เอกสารทางการเงิน</h5>
          <app-upload-field label="รายงานความก้าวหน้า"></app-upload-field>
          <button class="btn btn-primary">
            <i class="fas fa-plus"></i>&nbsp; เพิ่มไฟล์</button>
          <h5>Upload เอกสารอื่น ๆ</h5>
          <app-upload-field label="เอกสารอื่น ๆ"></app-upload-field>
          <button class="btn btn-primary">
            <i class="fas fa-plus"></i>&nbsp; เพิ่มไฟล์</button>
        </div>
        <!--<app-progress-manage [researchStatus]="researchStatus"></app-progress-manage>-->
      </div>

    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-primary" (click)="c('Close click')">{{modalBtnAction}}</button>
      <button type="button" class="btn btn-outline-dark" (click)="c('Close click')">ล้างข้อมูล</button>
    </div>
  </ng-template>